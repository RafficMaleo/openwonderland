<project basedir="." default="..." name="wonderland.run-config">
    <dirname property="imported.basedir" file="${ant.file.build-setup}"/>

    <target name="run-config-test" depends="jar" description="Run Config test">
        <java classname="org.jdesktop.lg3d.wonderland.config.common.WonderlandConfigUtil" fork="true">
            <jvmarg value="-Dwonderland.config.init=false"/>
            <classpath>
		<pathelement path="${wonderland-client.classpath}"/>
	    </classpath>
	</java>
	<syspropertyset refid="wonderland.properties"/>
    </target>

    <target depends="jar" name="debug-config-test">
        <nbjpdastart addressproperty="jpda.address" name="lg3d-wonderland" transport="dt_socket">
            <classpath>
		<pathelement path="${wonderland-client.classpath}"/>
            </classpath>
        </nbjpdastart>
        <java classname="org.jdesktop.lg3d.wonderland.config.common.WonderlandConfigUtil" fork="true">
            <jvmarg value="-Dwonderland.config.init=false"/>
            <classpath>
		<pathelement path="${wonderland-client.classpath}"/>
	    </classpath>

            <!--start debug-->
            <jvmarg value="-Xdebug"/>
            <jvmarg value="-Xnoagent"/>
            <jvmarg value="-Djava.compiler=none"/>
            <jvmarg value="-Xrunjdwp:transport=dt_socket,address=${jpda.address}"/>
            <!--end debug-->
	</java>
	<syspropertyset refid="wonderland.properties"/>
    </target>

    <target name="run-client-config" depends="jar" description="Run Project Wonderland Client Configuration GUI">
        <java classname="org.jdesktop.lg3d.wonderland.config.client.WonderlandClientConfigGUI" fork="true">
            <jvmarg value="-client"/>
            <jvmarg value="-Xmx384m"/>
            <jvmarg value="-Xincgc"/>
            <jvmarg value="-Xms32m"/>
            <jvmarg value="-Dsgs.port=${sgs.test.port}"/>
            <jvmarg value="-Dsgs.server=${sgs.server}"/>
            
            <classpath>
		<pathelement path="${wonderland-client.classpath}"/>
	    </classpath>
	    <syspropertyset refid="wonderland.properties"/>
	    <env key="${env.path.name}" path="${env.path.defvalue}"/>
	</java>
    </target>
    
    <target depends="jar" name="debug-client-config">
        <nbjpdastart addressproperty="jpda.address" name="lg3d-wonderland" transport="dt_socket">
            <classpath>
		<pathelement path="${wonderland-client.classpath}"/>
            </classpath>
        </nbjpdastart>
        <java classname="org.jdesktop.lg3d.wonderland.config.client.WonderlandClientConfigGUI" fork="true">
            <jvmarg value="-client"/>
            <jvmarg value="-Xmx384m"/>
            <jvmarg value="-Xincgc"/>
            <jvmarg value="-Xms32m"/>
            <jvmarg value="-Dsgs.port=${sgs.test.port}"/>
            <jvmarg value="-Dsgs.server=${sgs.server}"/>
            
            <classpath>
		<pathelement path="${wonderland-client.classpath}"/>
	    </classpath>

            <!--start debug-->
            <jvmarg value="-Xdebug"/>
            <jvmarg value="-Xnoagent"/>
            <jvmarg value="-Djava.compiler=none"/>
            <jvmarg value="-Xrunjdwp:transport=dt_socket,address=${jpda.address}"/>
            <!--end debug-->

	    <syspropertyset refid="wonderland.properties"/>
	    <env key="${env.path.name}" path="${env.path.defvalue}"/>
	</java>
    </target>

    <target name="run-server-config" depends="jar" description="Run Project Wonderland Server Configuration GUI">
        <java classname="org.jdesktop.lg3d.wonderland.config.server.WonderlandServerConfigGUI" fork="true">
            <jvmarg value="-client"/>
            <jvmarg value="-Xmx384m"/>
            <jvmarg value="-Xincgc"/>
            <jvmarg value="-Xms32m"/>
            <jvmarg value="-Dsgs.port=${sgs.test.port}"/>
            <jvmarg value="-Dsgs.server=${sgs.server}"/>
            
            <classpath>
		<pathelement path="${wonderland-server.classpath}"/>
	    </classpath>
	    <syspropertyset refid="wonderland.properties"/>
	    <env key="${env.path.name}" path="${env.path.defvalue}"/>
	</java>
    </target>
    
    <target depends="jar" name="debug-server-config">
        <nbjpdastart addressproperty="jpda.address" name="lg3d-wonderland" transport="dt_socket">
            <classpath>
		<pathelement path="${wonderland-server.classpath}"/>
            </classpath>
        </nbjpdastart>
        <java classname="org.jdesktop.lg3d.wonderland.config.server.WonderlandServerConfigGUI" fork="true">
            <jvmarg value="-client"/>
            <jvmarg value="-Xmx384m"/>
            <jvmarg value="-Xincgc"/>
            <jvmarg value="-Xms32m"/>
            <jvmarg value="-Dsgs.port=${sgs.test.port}"/>
            <jvmarg value="-Dsgs.server=${sgs.server}"/>
            
            <classpath>
		<pathelement path="${wonderland-server.classpath}"/>
	    </classpath>

            <!--start debug-->
            <jvmarg value="-Xdebug"/>
            <jvmarg value="-Xnoagent"/>
            <jvmarg value="-Djava.compiler=none"/>
            <jvmarg value="-Xrunjdwp:transport=dt_socket,address=${jpda.address}"/>
            <!--end debug-->

	    <syspropertyset refid="wonderland.properties"/>
	    <env key="${env.path.name}" path="${env.path.defvalue}"/>
	</java>
    </target>
</project>
